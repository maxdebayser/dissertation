%\documentclass[msc,twoside,british]{ThesisPUC_uk}

\documentclass[msc,wide,unix]{puc-rio_thesis}
%\documentclass[msc,wide,unix,links]{puc-rio_thesis}
\usepackage[brazil]{babel}
\usepackage{graphicx}
\usepackage{listings}
\usepackage[section]{minted}
\usepackage{lscape}

\renewcommand{\subfigtopskip}{0in}
\renewcommand{\subfigcapskip}{0in}
\renewcommand{\subfigbottomskip}{0in}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\newcommand{\Rset}{\mathbb{R}}
\newcommand{\Zset}{\mathbb{Z}}



%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\author{Maximilien de Bayser}
\authorR{de Bayser, Maximilien}
\advisor{Renato Fontoura de Gusmão Cerqueira}
\advisorR{Cerqueira, Renato Fontoura de Gusmão}
\title{Flexible Composition for C++11}
\titleBR{Composição Flexível em C++11}
\day{4} \month{April} \year{2013}

\city{Rio de Janeiro}
\CDD{004}
\department{Informática}
\program{Informática}
\programBR{Informática}
\school{Centro Técnico Científico}
\university{Pontif\'{i}cia Universidade Cat\'{o}lica do Rio de Janeiro}
\uni{PUC-Rio}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\jury{%
  \jurymember{Alessandro Garcia}{Department of Informatics -- PUC-Rio}%
  \jurymember{Waldemar Celes}{Department of Informatics -- PUC-Rio}%
  \schoolhead{José Eugenio Leal}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\resume{%
Maximilien de Bayser graduated from PUC-Rio in Computer Engineering. He is also working at the Research Center for Inspection Technology where he works on
software for nondestructive testing of oil pipelines and flexible risers for PETROBRAS.
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\acknowledgment{%

First of all I would like to thank my family for their continuous support. I would never
have gotten so far if it wasn't for them and for the education they gave me.

I would like to thank my adviser Renato Cerqueira who has always supported me since my undergrad courses
He has always given me a lot of freedom to develop my ideas and helped to point out my mistakes
and suggested improvements and alternatives when I got stuck.

I am very grateful to my friend Vitor Pinheiro who understood and supported me not only
in academic matters but also during personal difficulties.

I would like to thank my professors Edward Herman Haeusler, Marcelo Gattas, Noemi Rodriguez,
Roberto Ierusalimschy, Waldemar Celes and others for their stimulating lectures that made
this work much more diversified than would otherwise be.

I am very grateful for the funding from CNPQ, without which this work would not have been possible. I also
am very much indebted to PUC-Rio whose generous scholarship made my graduation possible.

I would like to thank all my colleagues from CPTI with whom I have worked on many interesting
projects, shaping my view of programming in real-world projects.

And finally I would like to thank all my friends whose wonderful company made my procrastinating hours
so pleasant to the point of endangering the conclusion of this work.
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\keywords{
  \key{Software Components}%
  \key{Modules}%
  \key{Services}%
  \key{Service Component Architecture}%
  \key{Reflection}%
  \key{Introspection}%
  \key{C++11}%
  \key{Dependency Injection}%
  \key{Inversion of Control}%
}

\abstract{%
Dependency injection, a form of inversion of control, is a way of structuring the configuration and composition of
software components that brings many benefits such as a loose coupling of components. However, a generic dependency
injection framework requires runtime type introspection and this is why dependency injection is popular in \texttt{Java} and
almost non-existent in \texttt{C++}. In this work we present a introspection system for \texttt{C++11} and show how to use it to improve
an implementation of the Service Component Architecture (\texttt{SCA}) for \texttt{C++}. It uses several features of \texttt{C++11}
such as \emph{perfect forwarding}, \emph{variadic templates} and \emph{lvalue references} to improve usability and minimize overhead.
}

\keywordsBR
{
   \key{Componentes de Software}%
   \key{Modulos}%
   \key{Serviços}%
   \key{Service Component Architecture}%
   \key{Reflexão}%
   \key{Introspecção}%
   \key{C++11}%
   \key{Injeção de Dependências}%
   \key{Inversão de Controle}%
}

\abstractBR
{
Injeção de dependências, uma forma de inversão de controle, é uma forma de estruturar a configuração e composição de componentes
de software que traz vários benefícios como um acoplamento reduzido entre componentes. No entanto, um \emph{framework} genérico
de injeção de dependências requer instrospecção em tempo de execução, o que explica por que injeção de dependências é popular
em \texttt{Java} mas praticamente inexistente em \texttt{C++}. Neste trabalho apresentamos um sistema de introspecção para \texttt{C++11}
e mostramos como ele pode ser usado para melhorar uma implementação de Service Component Architecture (\texttt{SCA}) para \texttt{C++}.
Usamos vários novas funcionalidades de \texttt{C++11} como \emph{perfect forwarding}, \emph{variadic templates} e \emph{lvalue references}
para melhorar a usabilidade da \texttt{API} de reflexão e minimizar o \emph{overhead} de execução.	
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\tablesmode{fig} % none, fig, tab ou figtab


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\epigraph{%
Was uns jetzt zum Forschen antreibt, ist eben, daß es uns nicht genügt zu wissen, daß wir
Vorstellungen haben, daß sie solche und solche sind und nach diesen und jenen Gesetzen,
deren allgemeiner Ausdruck allemal der Satz vom Grunde ist, zusammenhängen. Wir wollen die
Bedeutung jener Vorstellungen wissen: wir fragen, ob diese Welt nichts weiter als eine Vorstellung
sei; in welchem Falle sie wie ein wesenloser Traum, oder ein gespensterhaftes Luftgebilde, an uns
vorüberziehn müßte, nicht unser Beachtung wert; oder aber ob sie noch etwas außerdem ist, und was
sodann dieses sei.
}
\epigraphauthor{Arthur Schopenhauer}
%\epigraphbook{}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\begin{document}

\chapter{Introduction}
  \label{chap:intro}
  \input{introduction}

\chapter{Coarse-grained Units of Reuse: Modules, Libraries, Components and Services}
  \label{chap:components}
  \input{components}

\chapter{Dependency Injection}
  \label{chap:ioc}
  \input{dependencyinjection}
  
\chapter{Reflection}
  \label{chap:reflection}
  \input{reflection}
  
\chapter{Service Component Architecture}
  \label{chap:sca}
  \input{sca}
  
\chapter{Conclusion}
  \label{chap:conclusion}
  \input{conclusion}

\bibliography{dissertation}
\end{document}
